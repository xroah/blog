<link rel="stylesheet" href="/styles/category.css">
<div class="top-title">分类管理</div>
<table class="category-table table table-striped">
    <thead>
        <tr>
            <th>分类名称</th>
            <th>创建时间</th>
            <th>描述</th>
            <th>封面</th>
            <th>文章数</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table>

<a href="#" class="btn btn-primary add-btn">+</a>
<template id="dialogTpl">
    <div class="form-group">
        <label>封面：</label>
        <div class="d-flex flex-column align-items-center">
            <div class="category-cover position-relative">
                <img id="uploadedCover" src="${cover}">
                <input type="hidden" id="coverUrl" value="${coverUrl}">
            </div>
            <div class="custom-file w-50 mt-3">
                <input type="file" accept="image/png,image/jpeg" class="custom-file-input" id="pickCover">
                <label class="custom-file-label text-truncate" id="pickLabel" for="pickCover">选择封面</label>
            </div>
            <div id="progress" class="progress d-none mt-3" style="width: 100px;height: 3px;">
                <div class="progress-bar"></div>
            </div>
            <button class="mt-3 btn btn-primary" id="upload">确定上传</button>
        </div>
    </div>
    <div class="form-group">
        <label for="categoryName">名称：</label>
        <input type="text" maxlength="10" class="form-control" value="${name}" id="categoryName">
    </div>
    <div class="form-group">
        <label for="categoryDesc">描述：</label>
        <textarea maxlength="50" class="form-control" id="categoryDesc">${desc}</textarea>
    </div>
</template>
<template id="tableTpl">
    <tr>
        <td class="name" data-text={{name}}>{{name}}</td>
        <td>{{createTime}}</td>
        <td class="desc" data-text={{desc}}>{{desc}}</td>
        <td class="cover" data-text={{cover}}>
            {{coverUrl}}
        </td>
        <td>{{articleCount}}</td>
        <td>
            <a href="#" class="text-primary edit mr-2" data-id="{{_id}}">编辑</a>
            <a href="#" class="text-danger delete" data-id={{_id}}>删除</a>
        </td>
    </tr>
</template>